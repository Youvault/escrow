<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FreeEscrow Test</title>
  <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 50px; background: #f0f2f5; text-align: center; }
    button { padding: 15px 30px; font-size: 18px; }
    #log { margin-top: 20px; padding: 15px; background: white; border-radius: 8px; text-align: left; }
  </style>
</head>
<body>
  <h1>FreeEscrow â€“ Connect Test</h1>
  <button id="connect">CONNECT WALLET NOW</button>
  <div id="log">Click the button â†’ watch here</div>

<script>
  const log = document.getElementById("log");
  document.getElementById("connect").onclick = async () => {
    log.innerHTML += "<br>1. Checking for MetaMask...";

    if (!window.ethereum) {
      log.innerHTML += "<br>âŒ MetaMask NOT detected. Install it first!";
      alert("MetaMask not found. Install from https://metamask.io and refresh.");
      return;
    }
    log.innerHTML += "<br>âœ… MetaMask detected!";

    log.innerHTML += "<br>2. Requesting connection...";
    try {
      const accounts = await ethereum.request({ method: "eth_requestAccounts" });
      log.innerHTML += "<br>âœ… SUCCESS! Connected as " + accounts[0];
      alert("Connected perfectly! ğŸ‰ Your address: " + accounts[0]);
    } catch (err) {
      log.innerHTML += "<br>âŒ Failed: " + err.message;
    }
  };
</script>
</body>
</html>
